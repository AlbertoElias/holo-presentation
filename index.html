<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Holo</title>
    <meta name="description" content="Hello, WebVR! â€¢ A-Frame">
    <script src="/aframe.min.js"></script>
    <script src="/aframe-environment-component.min.js"></script>
    <script src="/aframe-extras.min.js"></script>
    <script src="/super-hands.min.js"></script>
    <script src="/aframe-super-keyboard.js"></script>
    <link rel="stylesheet" href="style.css">
  </head>
  <body class="app">
    <a-scene renderer="antialias: true" cursor="rayOrigin: mouse" raycaster="far: 20; objects: .collidable" keyboard-shortcuts="enterVR: false" holo>
      <a-assets id="assets">
        <a-mixin id="point"
          raycaster="far: 10; objects: .collidable; lineColor: #ffffff; threshold: 0.1"
          super-hands="colliderEvent: raycaster-intersection;
                      colliderEventProperty: els;
                      colliderEndEvent: raycaster-intersection-cleared;
                      colliderEndEventProperty: clearedEls;
                      grabStartButtons: griptouchstart;
                      grabEndButtons: griptouchend;
                      stretchStartButtons: griptouchstart;
                      stretchEndButtons: griptouchend;">
        </a-mixin>
        <a-mixin id="tab"
          geometry="width: 1; height: 0.2;"
          material="color: #CCC;"
          text="color: #000; align: center;"
          >
        </a-mixin>

        <img id="keyboard-controls" src="keyboard-controls.png">
        <img id="vr-controls" src="vr-controls.png">
      </a-assets>

      <a-entity environment="
        ground: canyon;
        groundTexture: walkernoise;
        grid: none;
        groundColor: #C09891;
        groundColor2: #394032;
        groundYScale: 20;
        playArea: 1.5;
        dressing: trees;
        dressingAmount: 40;
        dressingScale: 1;
        dressingColor: #829471;
        skyType: gradient;
        skyColor: #24b59f;
        horizonColor: #eff9b7;
        fog: 0.5;
      "></a-entity>

      <a-entity id="rig" movement-controls="speed: 0.5">
        <a-entity camera="fov: 80" look-controls position="0 1.6 0"></a-entity>
        <a-entity id="handLeft" super-hands laser-controls="hand: left" mixin="point"></a-entity>
        <a-entity id="handRight" super-hands laser-controls="hand: right" mixin="point"></a-entity>
      </a-entity>

      <a-plane id="info" width="4" height="2" color="#FFF" position="0 1.5 -2.5" material="side: double;">
        <a-entity position="0 0.8 0" tabs="active: getting-started-tab">
          <a-plane id="getting-started-tab" mixin="tab" position="-0.6 0 0.01" text="value: Getting Started;" class="collidable"
            tab="getting-started" onclick="this.parentEl.setAttribute('tabs', {active: this.id})"></a-plane>
          <a-plane id="controls-tab" mixin="tab" position="0.6 0 0.01" text="value: Controls;" class="collidable"
            tab="controls" onclick="this.parentEl.setAttribute('tabs', {active: this.id})"></a-plane>
        </a-entity>

        <a-entity id="getting-started" position="-1.8 0.5 0" visible="false">
\         <a-text color="#CCC" position="0 0 0" width="3.6" value="1. Create a container"></a-text>
          <a-text color="#CCC" position="0 -0.3 0" width="3.6" value="2. Add text, emojis, images, 3D models, or other containers"></a-text>
          <a-text color="#CCC" position="0 -0.6 0" width="3.6" value="3. Add depth layers to your container"></a-text>
          <a-text color="#CCC" position="0 -0.8 0" width="3.6" value="4. Save your presentation"></a-text>
          <a-text color="#CCC" position="0 -1 0" width="3.6" value="5. Visualize"></a-text>
          <a-entity position="0.5 -1.3 0">
            <a-plane class="collidable" color="#FF0" width="1" height="0.2" position="0 0 0.01" text="color: #000; align: center; value: Presentation 1;"></a-plane>
            <a-plane class="collidable" color="#FF0" width="1" height="0.2" position="1.3 0 0.01" text="color: #000; align: center; value: Presentation 2;"></a-plane>
            <a-plane class="collidable" color="#FF0" width="1" height="0.2" position="2.6 0 0.01" text="color: #000; align: center; value: Presentation 3;"></a-plane>
          </a-entity>
        </a-entity>

        <a-entity id="controls" position="0 0 0.01" visible="false">
          <a-image transparent="true" src="#keyboard-controls" position="-1 0 0"></a-image>
          <a-image transparent="true" src="#vr-controls" position="1 0 0"></a-image>
        </a-entity>
      </a-plane>
      <div class="interface">
        <!-- Material Input based on https://codingbeautydev.com/blog/material-design-text-field/ -->
        <div class="textUploader">
          <input
            type="text"
            id="fname"
            name="fname"
            value=""
            aria-labelledby="label-fname"
          />
          <label class="label" for="fname" id="label-fname">
            <div class="text">Add Text</div>
          </label>
        </div>
      </div>

      <a-entity id="keyboard" super-keyboard="hand: #handRight; show: false;" position="0 1.6 -0.5" rotation="-30 0 0"></a-entity>
    </a-scene>
    <input type="file" class="dropzone">
    <script type="module" src="/main.js"></script>
  </body>
</html>